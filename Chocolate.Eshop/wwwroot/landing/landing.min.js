"use strict";window.Donald=Donald||{},function(t){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function o(i,o){this.options=t.extend({delta:15,speed:10},o),this.$el=t(i),this.start()}function s(i,o){this.el=i,this.options=t.extend({delta:5,max:30,delay:3e3},o,Donald.parseOptions(i.getAttribute("data-float-options"))),this._x=0,this._y=0;var s=this;Donald.call((function(){s.update(),setInterval((function(){s.update()}),1e3)}),this.options.delay)}function e(i,o){this.el=i,this.$el=t(i),this.options=t.extend({count:10,space:12},o),this.init()}function n(i,o){this.el=i,this.$el=t(i),this.options=t.extend({layersCount:4,duration:800,delay:70,delayMax:180,fill:"",fillMode:"",gradient:"",color:[46,102,232]},o),this.init()}function a(i,o){this.el=i,this.options=t.extend({friction:.03}),this.x2=this.y2=this.x=this.y=0,t(window).on("mousemove click",this.moveTo.bind(this)),this.update()}o.prototype.getDeltaY=function(t){return Math.sin(2*Math.PI*t/this.width)*this.options.delta},o.prototype.start=function(){this.timeStart=Date.now()-parseInt(100*Math.random()),this.$el.find("path").each((function(){t(this).data("original",this.getAttribute("d").replace(/([\d])\s*\-/g,"$1,-"))})),this.update()},o.prototype.update=function(){var t=this;i((function(){t.draw()}))},o.prototype.draw=function(){var i=this,o=(Date.now()-this.timeStart)*this.options.speed/100;this.width=this.$el.width(),this.$el.find("path").each((function(){var s=o,e=0;this.setAttribute("d",t(this).data("original").replace(/M([\d|\.]*),([\d|\.]*)/g,(function(t,o,n){return"M"+o+","+(parseFloat(n)+(e=i.getDeltaY(s+=parseFloat(o)))).toFixed(3)})).replace(/([c|C])[^A-Za-z]*/g,(function(t,n){var a=t.slice(1).split(",").map(parseFloat);return"C"==n?(a[1]+=i.getDeltaY(o+a[0]),a[3]+=i.getDeltaY(o+a[2]),a[5]+=i.getDeltaY(s=o+a[4])):(a[1]+=i.getDeltaY(s+a[0])-e,a[3]+=i.getDeltaY(s+a[2])-e,a[5]+=i.getDeltaY(s+=a[4])-e),e=i.getDeltaY(s),n+a.map((function(t){return t.toFixed(3)})).join(",")})))})),this.update()},Donald.floatSVG=function(t,i){Donald.$(t).each((function(){new o(this,i)}))},s.prototype.update=function(){var t,i,o;do{t=2*Math.PI*Math.random(),i=Math.cos(t)*this.options.delta,o=Math.sin(t)*this.options.delta}while((this._x+i)*(this._x+i)+(this._y+o)*(this._y+o)>this.options.max*this.options.max);this.el.style.transform="translate("+(this._x+=i)+"px,"+(this._y+=o)+"px)"},Donald.floatEl=function(t,i){Donald.$(t).each((function(){new s(this,i)}))},e.prototype.init=function(){for(var t=0;t<this.options.count;++t){var i=document.createElement("span");i.style["animation-delay"]=100*t+"ms",i.style.top=t*this.options.space+"px",this.el.appendChild(i)}},Donald.particles=function(t,i){Donald.$(t).each((function(){new e(this,i)}))},n.prototype.init=function(){this.isAnimating=!1,this.status="",this.delays=[],this.$el.on("mouseenter touchstart",this.start.bind(this)).on("mouseleave touchend",this.finish.bind(this)),this.path=this.el.getElementsByClassName("overlay-path")},n.prototype.start=function(){if(""==this.status){var t,i="";for(i+='<svg class="shape-overlays" viewBox="0 0 100 100" preserveAspectRatio="none"',this.options.fill&&(i+=' fill="'+this.options.fill+'"'),i+=">"+this.options.gradient,t=0;t<this.options.layersCount;++t)i+='<path opacity="'+(t+1)/this.options.layersCount+'" class="overlay-path" />',this.delays[t]=(Math.sin(2*Math.PI*(Math.random()+t/this.options.layersCount))+1)/2*this.options.delayMax;this.$el.append(i+="</svg>"),this.status="opening",this.timeStart=Date.now(),this.update()}},n.prototype.finish=function(){"opening"==this.status?this.status="opening-close":"opened"==this.status&&("onlyshape"==this.options.fillMode?(this.$el.find(".shape-overlays").remove(),this.status=""):(this.status="closing",this.timeStart=Date.now(),this.update()))},n.prototype.update=function(){if(Date.now()<this.timeStart+this.options.duration+this.options.delay*(this.options.layersCount-1)+this.options.delayMax){var t=this;i((function(){t.draw()}))}else"onlyshape"==this.options.fillMode?(this.$el.find(".shape-overlays").remove(),this.status=""):"opening"==this.status?this.status="opened":"opening-close"==this.status?(this.status="closing",this.timeStart=Date.now(),this.update()):"closing"==this.status&&(this.$el.find(".shape-overlays").remove(),this.status=""),this.isAnimating=!1},n.prototype.draw=function(){for(var t=0;t<this.options.layersCount;++t)this.path[t].setAttribute("d",this.updatePath(Date.now()-this.timeStart-this.options.delay*(this.status.startsWith("opening")?t:this.options.layersCount-t-1)));this.update()},n.prototype.updatePath=function(t){for(var i,o,s,e=[],n="",a=0;a<this.options.layersCount;++a)e[a]=100*(.5>(s=Math.min(Math.max(t-this.delays[a],0)/this.options.duration,1))?4*s*s*s:.5*Math.pow(2*s-2,3)+1);n+=this.status.startsWith("opening")?"M 0 0 V "+e[0].toFixed(2)+" ":"M 0 "+e[0].toFixed(2)+" ";for(a=0;a<this.options.layersCount-1;++a)n+="C "+(o=(i=(a+1)/(this.options.layersCount-1)*100)-1/(this.options.layersCount-1)*100/2).toFixed(2)+" "+e[a].toFixed(2)+" "+o.toFixed(2)+" "+e[a+1].toFixed(2)+" "+i.toFixed(2)+" "+e[a+1].toFixed(2)+" ";return n+=this.status.startsWith("opening")?"V 0 H 0":"V 100 H 0"},Donald.shapeOverlay=function(t,i){Donald.$(t).each((function(){new n(this,i)}))},a.prototype.update=function(){var t=this;i((function(){t.move()}))},a.prototype.moveTo=function(t){this.x2=-.1*t.clientX,this.y2=-.1*t.clientY},a.prototype.move=function(){this.x+=(this.x2-this.x)*this.options.friction,this.y+=(this.y2-this.y)*this.options.friction,this.el.style["background-position"]=parseInt(this.x)+"px "+parseInt(this.y)+"px",this.update()},Donald.floatBackground=function(t,i){Donald.$(t).each((function(){new a(this,i)}))},Donald.scrollTo=function(i,o){var s=0,e=void 0===o?600:o;s="number"==typeof i?i:Donald.$(i).offset().top,t("html,body").stop().animate({scrollTop:s},e)},t(window).on("donald_complete",(function(){Donald.floatBackground(".float-bg"),Donald.floatSVG(".expshape1",{speed:5}),Donald.floatSVG(".expshape2",{speed:4}),Donald.floatEl(".float-el"),Donald.particles(".particle1"),Donald.particles(".particle2",{space:20,count:13}),Donald.shapeOverlay(".shape-overlay",{fill:"url(#bg-gradient)",gradient:'<defs><linearGradient id="bg-gradient" y2="100%"><stop offset="0" stop-color="#08c"/><stop offset="100%" stop-color="#5349ff"/></linearGradient></defs>'}),t(".features .appear-animate").each((function(){this.setAttribute("data-animation-options","{'name':'fadeInUpShorter','delay':'"+parseInt(4*Math.random()+2)/10+"s'}")})),Donald.$body.on("click",".main-nav a, .mobile-menu a, .scroll-to",(function(i){var o=i.currentTarget,s=o.hash?o.hash:o.slice(o.lastIndexOf("#"));s.startsWith("#")&&(t(".mobile-menu-overlay").click(),Donald.scrollTo(s),i.preventDefault())})),Donald.lazyload(document.body)}))}(jQuery);