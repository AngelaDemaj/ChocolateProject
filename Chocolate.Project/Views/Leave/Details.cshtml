@model Chocolate.DataAccess.ViewModels.LeaveViewModel

@{
    ViewData["Title"] = "Leaves";
}

<h2>Leave Details</h2>
<hr />
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card-box">
                <div class="p-2">
                    <form asp-action="Edit">
                        <input type="hidden" asp-for="Id" />

                        <div class="form-group row">
                            <label class="col-md-2 col-form-label" asp-for="LeaveType">Leave Type</label>
                            <div class="col-md-10">
                                <input readonly="readonly" asp-for="LeaveType" class="form-control" />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-md-2 col-form-label" asp-for="Status">Status</label>
                            <div class="col-md-10">
                                <input readonly="readonly" asp-for="Status" class="form-control" />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label asp-for="StartDate" class="col-md-2 col-form-label">Start Date</label>
                            <div class="col-md-10">
                                <input asp-for="StartDate" class="form-control" readonly="readonly" />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label asp-for="NumberOfDays" class="col-md-2 col-form-label">Number Of Days</label>
                            <div class="col-md-10">
                                <input asp-for="NumberOfDays" class="form-control" readonly="readonly" />
                            </div>
                        </div>

                        @if (Model.FileName != null)
                        {
                            <div class="form-group row">
                                <label class="col-md-2 col-form-label">Download Leave Files</label>
                                <div class="col-md-10">
                                    <a data-toggle="tooltip" title="Download Attachment" class="btn btn-lighten-primary waves-effect waves-primary width-md" href="@Url.Action("Download","Leave",new {id = Model.Id })"><i class="fa fa-download"></i></a>
                                </div>
                            </div>
                        }

                        @if (Model.Approve)
                        {
                            if (Model.Status == Chocolate.DataAccess.Models.Enums.LeaveStatus.Pending)
                            {
                                <a asp-action="Approve" asp-route-id="@Model.Id" class="fas fa-thumbs-up btn btn-lighten-success waves-effect width-md waves-success" style="padding:10px"> Approve </a>
                                <a asp-action="Reject" asp-route-id="@Model.Id" class="fas fa-thumbs-down btn btn-lighten-danger waves-effect  width-md waves-danger " style="padding:10px"> Reject </a>
                            }
                            <a asp-action="MyApprovals" class=" btn btn-lighten-primary waves-effect waves-primary width-md">Back to List</a>
                        }
                        else
                        {
                            <a asp-action="MyLeaves" class="btn btn-lighten-primary waves-effect waves-primary width-md">Back to List</a>
                        }

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
